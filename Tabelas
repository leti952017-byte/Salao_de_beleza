PRAGMA foreign_keys = ON;

------tabela: Cliente-----
create table Cliente (
  id_cliente INTEGER PRIMARY KEY AUTOINCREMENT,
  nome TEXT(100) NOT NULL,
  telefone TEXT(20),
  email TEXT(100),
  datacadastro DATE DEFAULT CURRENT_DATE
);

----- tabela Profissional----
create table Profissional (
  id_profissional INTEGER PRIMARY KEY AUTOINCREMENT,
  nome TEXT NOT NULL,
  especialidade TEXT
);

------- tabela Servico------
create table Servico (
  id_servico INTEGER PRIMARY KEY AUTOINCREMET,
  nome TEXT NOT NULL,
  preco DECIMAL (10,2) NOT NULL,
  duracao_minutos INTEGER
);

-------tabela produto-------
create table Produto (
  id_produto INTEGER PRIMARY KEY AUTOINCREMENT,
  nome TEXT NOT NULL,
  categoria TEXT,
  quantidade_estoque INTEGER DEFAULT 0 
);

--------tabela agendamento------
create table Agendamento (
  id_agendamento INTEGER PRIMARY KEY AUTOINCREMENT,
  id_cliente INTEGER NOT NULL,
  id_profissional INTEGER NOT NULL,
  id_servico INTEGER NOT NULL,
  data_hora DATETIME NOT NULL,
  status TEXT DEFAUL'pendende',
  FOREIGN KEY (id_cliente) REFERENCES cliente (id_cliente),
  FOREIGN KEY (id_profissional) REFERENCES profissional (id_profissional),
  FOREIGN KEY (id_servico) REFERENCES servico (id_servico)
);



-------tabela pagamento------
create table Pagamento (
  id_pagamento INTEGER PRIMARY KEY AUTOINCREMENT,
  id_agendamento INTEGER NOT NULL,
  valor_pago DECIMAL(10,2),
  forma_pagamento TEXT,
  data_pagamento DATE DEFAULT CURRENT_DATE,
  FOREIGN KEY (id_agendamento) REFERENCES agendamento (id_agendamento)
);


------tabela uso_produto------
create table Uso_produto (
  id_servico INTEGER NOT NULL,
  id_produto INTEGER NOT NULL,
  quantidade_usada INTEGER NOT NULL,
  FOREIGN KEY (id_servico) REFERENCES servico (id_servico),
  FOREIGN KEY (id_produto) REFERENCES produto (id_produto)
);
